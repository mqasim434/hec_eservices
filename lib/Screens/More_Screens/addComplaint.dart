import 'package:flutter/material.dart';import 'package:hec_eservices/Screens/More_Screens/userGuide.dart';import 'package:hec_eservices/Screens/homepage.dart';import 'package:hec_eservices/Screens/morePage.dart';import 'package:hec_eservices/Screens/notificationPage.dart';import 'package:hec_eservices/Screens/profile.dart';import 'package:hec_eservices/Widgets/bottomSheet.dart';import 'package:hec_eservices/Widgets/rectangleToggle.dart';import 'package:hec_eservices/utils/MyColors.dart';import 'package:intl_phone_number_input/intl_phone_number_input.dart';import '../../Widgets/bottomNav.dart';class AddComplaint extends StatefulWidget {  const AddComplaint({Key? key}) : super(key: key);  @override  _AddComplaintState createState() => _AddComplaintState();}class _AddComplaintState extends State<AddComplaint> {  var searchby = ["CNIC", "Passport"];  int selectedSearchBy = 0;  var services = ["Degree Atestation", "Degree Verification"];  var service=TextEditingController();  var Number=TextEditingController();  PhoneNumber number = PhoneNumber(isoCode: 'PK');  @override  Widget build(BuildContext context) {    final bool showFab = MediaQuery.of(context).viewInsets.bottom==0.0;    return Scaffold(      body: Scaffold(        appBar: AppBar(          title: Text(            "Complaints",            style: TextStyle(color: Colors.black),          ),          iconTheme: IconThemeData(color: Colors.black),          elevation: 0,          backgroundColor: Colors.blueGrey[50],        ),        // floatingActionButton: showFab? AssistFAB():null,        body: Container(          padding: EdgeInsets.all(10),          child: SingleChildScrollView(            child: Column(              children: [                Container(                  margin: EdgeInsets.only(top: 10),                  child: Align(                      alignment: Alignment.centerLeft,                      child: Text(                        "Add Complaint Ticket",                        style: Theme.of(context)                            .textTheme                            .headline6!                            .copyWith(color: Colors.black),                      )),                ),                SizedBox(                  height: 10,                ),                Container(                  margin: EdgeInsets.only(top: 10),                  child: TextFormField(                    controller: service,                    onTap: (){                      MyBottomSheet().showSearchableBottomSheet(context,                          services, "Service").then((value){                        setState(() {                          service.text=services[value];                        });                      });                    },                    readOnly: true,                    decoration: InputDecoration(                        suffixIcon: Icon(Icons.arrow_drop_down_sharp),                        labelText: "Service",                        contentPadding: EdgeInsets.all(15),                        border: OutlineInputBorder()),                  ),                ),                // Full Name                Container(                  margin: EdgeInsets.only(top: 10),                  child: TextFormField(                    decoration: InputDecoration(                        labelText: "Full Name",                        contentPadding: EdgeInsets.all(15),                        border: OutlineInputBorder()),                  ),                ),                SizedBox(                  height: 10,                ),                // Cell Number                InternationalPhoneNumberInput(                  onInputChanged: (PhoneNumber number) {                    print(number.phoneNumber);                  },                  onInputValidated: (bool value) {                    print(value);                  },                  spaceBetweenSelectorAndTextField: 0,                  inputDecoration: InputDecoration(                      labelText: "Primary Cell Phone Number",                      contentPadding: EdgeInsets.all(15),                      border: OutlineInputBorder()),                  searchBoxDecoration: InputDecoration(                      labelText: "Search Country Code",                      contentPadding: EdgeInsets.all(15),                      border: OutlineInputBorder()),                  selectorConfig: SelectorConfig(                    selectorType: PhoneInputSelectorType.BOTTOM_SHEET,                  ),                  ignoreBlank: false,                  autoValidateMode: AutovalidateMode.disabled,                  selectorTextStyle: TextStyle(color: Colors.black),                  initialValue: number,                  textFieldController: Number,                  formatInput: false,                  keyboardType: TextInputType.numberWithOptions(                      signed: true, decimal: true),                  inputBorder: OutlineInputBorder(),                  onSaved: (PhoneNumber number) {                    print('On Saved: $number');                  },                ),                SizedBox(                  height: 10,                ),                // Application ID                Container(                  child: TextFormField(                    decoration: InputDecoration(                        labelText: "Application ID",                        contentPadding: EdgeInsets.all(15),                        border: OutlineInputBorder()),                  ),                ),                SizedBox(                  height: 10,                ),                Container(                  margin: EdgeInsets.only(bottom: 10),                  child: Align(                      alignment: Alignment.centerLeft,                      child: Text(                        "Search By:",                        style: Theme.of(context)                            .textTheme                            .bodyText2!                            .copyWith(color: Colors.black),                      )),                ),                Row(                  children: List.generate(searchby.length, (index) {                    return RectangleToggleButton(                      Label: searchby[index],                      svg: "assets/icons/cnic.svg",                      selected: selectedSearchBy == index ? true : false,                      onSelected: (value) {                        setState(() {                          print("index:index");                          selectedSearchBy = index;                        });                      },                    );                  }),                ),                // Name on Degree                Container(                  margin: EdgeInsets.only(top: 10),                  child: TextFormField(                    decoration: InputDecoration(                        labelText: searchby[selectedSearchBy],                        contentPadding: EdgeInsets.all(15),                        border: OutlineInputBorder()),                  ),                ),                SizedBox(                  height: 10,                ),                // Isuue                Container(                  child: TextFormField(                    maxLines: 3,                    decoration: InputDecoration(                        labelText: "Issue",                        contentPadding: EdgeInsets.all(15),                        border: OutlineInputBorder()),                  ),                ),                SizedBox(                  height: 10,                ),                ManualDownloadContainer(                    icon: Icons.upload,                    textTheme: Theme.of(context).textTheme, Name: "Document",Trailing: "Upload", Size: "Max 5 MP", onPresses: (){                  MyBottomSheet().showImageSelectorBottomSheet(context);                }),                Align(                  child: InkWell(                      onTap: (){                      }, child: Container(                      width: double.maxFinite,                      margin: EdgeInsets.symmetric(vertical: 20),                      decoration: BoxDecoration(                          borderRadius: BorderRadius.circular(5),                          gradient: MyColors.gradient3                      ),                      padding: EdgeInsets.symmetric(vertical: 15),                      child: Center(child: Text("Add",style: TextStyle(color: Colors.white),)))),                ),SizedBox(height: 70,)              ],            ),          ),        ),      ),      floatingActionButton: FloatingActionButton(        onPressed: () {},        child: Icon(          Icons.add,        ),        backgroundColor: MyColors.greenColor,      ),      floatingActionButtonLocation: FloatingActionButtonLocation.centerDocked,      bottomNavigationBar: MyBottomNav(        initialSelectedIndex: 3,        onSeleted: (index){          print("HELLO");          if (index != 0) {            Navigator.pushReplacement(context,                MaterialPageRoute(builder: (context) {                  return index == 1                      ? ProfilePage()                      : index == 2                      ? NotificationPage()                      : MorePage();                }));          }        },      ),    );  }}